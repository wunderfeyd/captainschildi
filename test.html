<!DOCTYPE html>
<html style="margin:0; padding:0;">
<head>
<script src="src/utils.js"></script>
<script src="src/audio.js"></script>
<script src="src/math.js"></script>
<script src="src/polygon.js"></script>
<script src="src/mesh.js"></script>
<script src="src/graphic.js"></script>
<script>
"use strict";

let am;
let gm;
let canvas;
let body;

function init() {
  am = new AudioManager();

  let samples = [];
  samples.push(am.load_sample("pad_wavetable.wav", "#f00"));
  samples.push(am.load_sample("bass_wave1.wav", "#0f0"));

  body = document.getElementById("body");
  canvas = document.getElementById("graphics");
  gm = new GraphicManager(canvas);
  am.pump();
  gm.pump();
  gm.setCallback(frame);
  console.log(randomFloat(0, 1));
  console.log(Vector3);
  console.log(Vector3.prototype.random());
  console.log(Vector3.prototype.random());
  console.log(Vector3.prototype.random());
  console.log(Vector3.prototype.random());
}

function frame(time) {
  canvas.width = document.documentElement.clientWidth;
  canvas.height = document.documentElement.clientHeight;
  gm.clear();
}

</script>
</head>
<body style="background-color:#000; margin:0; padding:0;" onload="init()" id="body">
<canvas id="graphics" width="0" height="0" style="margin:0; padding:0; display:block;"></canvas>
</body>
</html>
